<div>
    <h1>Listado de productos</h1>
    {{!-- Paginaci√≥n --}}
    <div class="p-2">
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center pagination-sm">
                {{#if products.hasPrevPage}}
                <li class="page-item">
                    {{else}}
                <li class="page-item disabled">
                    {{/if}}
                    <a class="page-link" href="{{products.prevLink}}" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
                </li>
    
                <li class="page-item dark" aria-current="page"><a class="page-link" href="#">{{products.page}}</a></li>
    
                {{#if products.hasNextPage}}
                <li class="page-item">
                    {{else}}
                <li class="page-item disabled">
                    {{/if}}
                    <a class="page-link" href="{{products.nextLink}}" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
                </li>
            </ul>
        </nav>
    </div>

    {{!-- Offcanvas donde se muestra carrito --}}
        <div class="my-2 me-2 d-flex justify-content-end">
            <button class="btn btn-dark" type="button" data-bs-toggle="offcanvas" data-bs-target="#staticBackdrop"
                aria-controls="staticBackdrop" id="btnCarrito">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor" class="bi bi-cart3"
                    viewBox="0 0 16 16">
                    <path
                        d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                </svg>
            </button>
        </div>
        
        <div class="offcanvas offcanvas-start" data-bs-backdrop="static" tabindex="-1" id="staticBackdrop"
            aria-labelledby="staticBackdropLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="staticBackdropLabel">Tu carrito de Compras</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body" id="contenedorCarrito">
                <div>
                    Agregue productos al carrito
                </div>
            </div>
        </div>

    {{!-- Listado de productos --}}
    <div class="grid p-2">
        <!-- Por cada producto imprimo una card con los datos-->
        {{#each products.payload}}
            <div class="card card_producto h-100">

                <div class="card-header py-0">
                    <h5 class="m-0 fw-semibold fs-5 text-center">{{this.code}}</h5>
                </div>
                <div class="d-flex flex-column justify-content-between align-items-center p-2">
                    <img class="card-img my-0" src="{{this.thumbnail}} " alt="{{this.thumbnail}}" width="50">
                    <p class="fw-bold fst-italic fs-6 text-center my-0">{{this.title}}</p>
                    <p class="fw-lighter my-0">{{this.description}}</p>
                    <p class="fw-bold fst-italic fs-5 my-0">{{this.price}} USD</p>
                    <footer class="blockquote-footer my-0">Stock: {{this.stock}}</footer>
                    <div class="d-flex justify-content-center">
                        <button id="{{this._id}} " class="btnAgregarCarrito btn btn-dark" type="submit">Agregar al carrito</button>
                    </div>
                </div>
                {{!-- <h2>Product ID:</h2>
                <p>Title: </p>
                <p>description: </p>
                <p>code:  </p>
                <p>price:  </p>
                <p>status: {{this.status}} </p>
                <p>stock:  </p>
                <p>category: {{this.category}} </p>
                <p>thumbnail: </p> --}}
            </div>
        {{/each}}
    </div>

</div>

<script src="/js/products.js"></script>